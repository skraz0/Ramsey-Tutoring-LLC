<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="./style.css"/>
</head>
<body>


<button class="open-button" onclick="openForm()">Chat</button>



<div class="chat-popup" id="form">
<br>
	<div class="chatArea">
			<ul id="messages" class="messages"></ul>
		</div>
			  <form id="messages"action="" class="form-container messages">

					<input id="m" class="textarea" type="text" name="" placeholder="Press Enter to Send" value="">
			    <!-- <button type="button" class="btn cancel" onclick="closeForm()">Close</button> -->

			  </form>
</div>

<script>
function openForm() {
  document.getElementById("form").style.display = "block";
}

function closeForm() {
  document.getElementById("form").style.display = "none";
}
</script>
<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>

<script>
  $(function () {
    var socket = io();
    $('form').submit(function(e){
      e.preventDefault(); // prevents page reloading
      socket.emit('chat message', $('#m').val());
      $('#m').val('');
      return false;
    });
    socket.on('chat message', function(msg){
      $('#messages').append($('<div>').text(msg));
    });
  });
</script>
</body>
</html>
