<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="./style.css"/>
</head>
<body>


<button class="open-button" onclick="openForm()">Chat</button>
<ul>


<div class="chat-popup" id="form">
  <form id="messages"action="" class="form-container messages">
    <h1>Chat</h1>
		
    <!-- <textarea placeholder="Type message.." name="msg" required></textarea> -->
		<input id="m"type="text" name="" value="">
    <!-- <button id="m" type="submit" class="btn">Send</button> -->
    <button type="button" class="btn cancel" onclick="closeForm()">Close</button>
  </form>
</div>
</ul>
<script>
function openForm() {
  document.getElementById("form").style.display = "block";
}

function closeForm() {
  document.getElementById("form").style.display = "none";
}
</script>
<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>

<script>
  $(function () {
    var socket = io();
    $('form').submit(function(e){
      e.preventDefault(); // prevents page reloading
      socket.emit('chat message', $('#m').val());
      $('#m').val('');
      return false;
    });
    socket.on('chat message', function(msg){
      $('#messages').append($('<li>').text(msg));
    });
  });
</script>
</body>
</html>
